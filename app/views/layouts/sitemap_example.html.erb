<style>
    #sitemap {padding: 20px 0; border-radius: 5px; border: 1px solid #999;}
    #sitemap span {float: right;}
    #sitemap .nav-list .nav-list {padding-right: 0;}
    #sitemap .status {display: block; border-radius: 4px; padding: 0 4px;}
    #sitemap .published {
        color: #000;
        background: #62c462;
        background: -webkit-gradient(linear, 0 0, 0 bottom, from(#62c462), to(#51a351));
        background: -webkit-linear-gradient(#62c462, #51a351);
        background: -moz-linear-gradient(#62c462, #51a351);
        background: -ms-linear-gradient(#62c462, #51a351);
        background: -o-linear-gradient(#62c462, #51a351);
        background: linear-gradient(#62c462, #51a351);
        text-transform: uppercase;
    }
    #sitemap .draft {
        color: #000;
        background: #EE5F5B;
        background: -webkit-gradient(linear, 0 0, 0 bottom, from(#EE5F5B), to(#BD362F));
        background: -webkit-linear-gradient(#EE5F5B, #BD362F);
        background: -moz-linear-gradient(#EE5F5B, #BD362F);
        background: -ms-linear-gradient(#EE5F5B, #BD362F);
        background: -o-linear-gradient(#EE5F5B, #BD362F);
        background: linear-gradient(#EE5F5B, #BD362F);
        text-transform: uppercase;
    }
</style>

<div id="sitemap">
  <ul class="nav nav-list nav-stacked">
    <li><a href="#"><i class="icon-home"></i> My Site</a>
      <ul class="nav nav-list">
        <li><a href="#"><i class="icon-file"></i> Home <span class="span1">H <i class="icon-ok-circle"></i><span class="status published">p</span></span></a> </li>
        <li><a href="#" data-toggle="collapse" data-target="#section1"><i class="icon-folder-close"></i> Section 1 <span class="span1">H <i class="icon-ok-circle"></i><span class="status published">p</span></span></a>
          <ul id="section1" class="nav nav-list collapse">
            <li><a href="#"><i class="icon-file"></i> 404 <span class="span1">H <i class="icon-ok-circle"></i><span class="status published">p</span></span></a></li>
            <li><a href="#"><i class="icon-file"></i> System <span class="span1">H <i class="icon-ok-circle"></i><span class="status published">p</span></span></a></li>
            <li><a href="#"><i class="icon-file"></i> Whatever <span class="span1">H <i class="icon-ok-circle"></i><span class="status published">p</span></span></a></li>
          </ul>
        </li>
        <li><a href="#"><i class="icon-file"></i> Page <span class="span1">H <i class="icon-ok-circle"></i><span class="status draft">d</span></span></a></li>
        <li><a href="#" data-toggle="collapse" data-target="#section2"><i class="icon-folder-close"></i> Section 2 <span class="span1">H <i class="icon-ok-circle"></i><span class="status published">p</span></span></a>
          <ul class="nav nav-list collapse" id="section2">
            <li><a href="#"><i class="icon-file"></i> Landing <span class="span1">H <i class="icon-ok-circle"></i><span class="status published">p</span></span></a></li>
            <li><a href="#" data-toggle="collapse" data-target="#subsection1"><i class="icon-folder-close"></i> Subsection <span class="span1">H <i class="icon-ok-circle"></i><span class="status published">p</span></span></a>
              <ul class="nav nav-list collapse" id="subsection1">
                <li><a href="#"><i class="icon-file"></i> Page 1 <span class="span1">H <i class="icon-ok-circle"></i><span class="status published">p</span></span></a></li>
                <li><a href="#"><i class="icon-file"></i> Page 2 <span class="span1">H <i class="icon-ok-circle"></i><span class="status published">p</span></span></a></li>
                <li><a href="#"><i class="icon-file"></i> Page 3 <span class="span1">H <i class="icon-ok-circle"></i><span class="status published">p</span></span></a></li>
              </ul>
            </li>
          </ul>
        </li>
        <li><a href="#"><i class="icon-file"></i> Page <span class="span1">H <i class="icon-ban-circle"></i><span class="status published">p</span></span></a></li>
      </ul>
    </li>
  </ul>
</div>

<!-- Le javascript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script>
    $(document).ready(function() {
        $('a[data-toggle="collapse"]').click(function() {
            if($(this).siblings('ul').hasClass('in') == true) {
                $(this).find('i:first').attr('class','icon-folder-close');
            } else {
                $(this).find('i:first').attr('class','icon-folder-open');
            }
        });
    });
</script>