Start with:
    browser_cms:cms does not copy files from other gems.

    Gems (bcms_news) were responsible for addind their own paths to the Cms. This means they need to be updated,
    since rails is no longering loading them.

    bcms_news
    =========
    gem_root = File.expand_path(File.join(File.dirname(__FILE__), ".."))
    Cms.add_to_rails_paths gem_root # Add portlets to load path
    Cms.add_generator_paths gem_root, "db/migrate/[0-9]*_*.rb"

    bcms_fckeditor
    gem_root = File.expand_path(File.join(File.dirname(__FILE__), ".."))
    Cms.add_to_rails_paths gem_root
    Cms.add_generator_paths gem_root, "db/migrate/[0-9]*_*.rb"
    Cms.add_generator_paths gem_root, "public/bcms/fckeditor/**/*"
    if (!File.exists?("#{RAILS_ROOT}/public/bcms_config/fckeditor/fckstyles.xml"))
      Cms.add_generator_paths gem_root, "public/bcms_config/fckeditor/fckstyles.xml"
    end

    Problem:
        When running the browser_cms:cms generator, the bcms_news gem is never loaded.
        Let's try adding a cms:install:module generator, which would take the name of the module to install, and
        do everything required to make it work.

    Goal:
        - Upgrading a CMS module should be very simple (ideally a generator)
        - Public assets can stay in gems now (i.e. fckeditor)
    Options:
        - Create module that will add portlets to load path automatically
        - Create a generator to help upgrade gems to latest version.

    Further Help:
        - Add deprecation warnings to add_to_rails_path
        - Add deprecation warnings to add_generator_paths

State of Test Cases - All Pass (As of Jan 21, 2011)

Open Issues
===========

* Entire 'db' directory is getting copied from core project, including .sqlite dbs. Need to tightend up or change generator
* Verify the v3.1 to v3.3 migration path.
* Rename to cms:upgrade rather than browser_cms:cms
* Merge all existing migrations into core as well as seeds.rb. Rework how seeds gets run as part of the project. (Future proof this).
* Support modules as engines (as well as current behavior - to cut down on cost of upgrade)
* Package all public assets into CMS gem. (Cut down on duplication for projects)
* Reduce need to developers to modify content-like files on server (CSS, JS, Images, Templates)
** Confirm w/ developers on what is commonly touched.
** Step 1: Make templates start on file system, appear in UI and then be 'forked' in UI. Avoids need to 'copy' into CMS and delete.
** Look at WebDAV / HTTPS protocol.
* Test module scripts for new projects.
* test/dummy has some duplication ( migrations, seed.rb)

Known Bugs
==========
* Deleting routes does not appear to reload them (Does not appear to be Rails 3 related)
* Saving a block with unchanged value shouldn't create additional versions. Currently saving an HtmlBlock results in 'changed_tags'.

Module Testing
==============
* Test that FckEditor module works with file browser.xml works (WYSIWYG editor)

html_safe = A pain
=========
As of Jan 2011, pretty much every content_block's render.html.erb needs to stick html_safe on everything, which is both tedious and annoying.
Need to figure out a better way to globally handle this.

Good Ideas
* Rewrite Behaviors to use ActiveSupport::Concern (at least look at it to see what is useful)
* Not sure Publishing and Versioning should be split up. They are really intertwined in practice.
* Look at how ActionSupport works with providing hooks

Wish List
===============
* Namespace core files (especially users) to better support dropping in as project.
* Allow Content Blocks to be namespaced.
* Clean up logging messages that are filling up the production logs unnecessarily
** 'Caching enabled'
** 'Not the CMS site'
** 'Rendering content block X'
** 'Not caching, user logged in'
** Rendering template X'
* Have at most one line per request for any diagnostic result.
* Verify it works in 1.8.7
* Determine if both Rails 2 and 3 can be supported in the same gem.  (Probably not)

Other Notes
==========
1. Some versions of 1.8.7-p248 and later have random Segmentation Fault/Bus issues with databases. See
    * http://busyprogrammer.wordpress.com/tag/bus-error/
    * Segmentation Fault - http://busyprogrammer.wordpress.com/tag/bus-error/ Only 1.8.7 p249